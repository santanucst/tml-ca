<div class="page-container">
    <div>
        <ol class="breadcrumb breadcrumb-custom">
            <li class="breadcrumb-item">
                <a href="#/home">
                    <i class="fa fa-home"></i> Home </a>
            </li>
            <li class="breadcrumb-item active">Activity Tracking</li>
        </ol>
    </div>
    <!-- start div for grid and pagination-->
    <div class="col-lg-12 col-sm-12 col-md-12 col-xs-12">
        <!-- start div for grid  -->
        <div class="col-lg-12 col-sm-12 col-md-12 col-xs-12">
            <!-- start div for faceted -->
            <div class="col-lg-2 col-sm-2 col-md-2 col-xs-12">
            </div>
            <!-- end of div for faceted -->
            <!-- startr div for only grid -->
            <div class="col-lg-10 col-sm-10 col-md-10 col-xs-12" style="float:right;padding-right: 0px;">
                <form [formGroup]="activityTrackingFormGroup">
                    <table class="table-style">
                        <thead class="text-align-style">
                            <tr class="header-tr-style">
                                <td *ngIf="gridConfigModel['complainNo']" [ngClass]="gridConfigModel['complainNo'].headerClass">
                                    {{ gridConfigModel['complainNo'].headerDesc }}
                                </td>
                                <td *ngIf="gridConfigModel['status']" [ngClass]="gridConfigModel['status'].headerClass">
                                    {{ gridConfigModel['status'].headerDesc }}
                                </td>
                                <td *ngIf="gridConfigModel['commSett']" [ngClass]="gridConfigModel['commSett'].headerClass">
                                    {{ gridConfigModel['commSett'].headerDesc }}
                                </td>
                            </tr>
                        </thead>
                        <tbody class="text-align-style">
                            <tr *ngFor="let activityTrackDI of compDIStatusRes" class="tbody-tr-style">
                                <td *ngIf="gridConfigModel['complainNo']" [ngClass]="gridConfigModel['complainNo'].dataClass">
                                    <span class="custom-link" (click)="onClickCompRefNo(activityTrackDI)">{{activityTrackDI.complainRefNo}}</span>
                                </td>
                                <td *ngIf="gridConfigModel['status']" [ngClass]="gridConfigModel['status'].dataClass">
                                    <!--status-->
                                    <ispl-comp-status-structure [compStatus]="activityTrackDI.currentStatus"
                                        [displayArr]="activityTrackDI.statusDisplay"></ispl-comp-status-structure>
                                </td>
                                <td *ngIf="gridConfigModel['commSett']" [ngClass]="gridConfigModel['commSett'].dataClass">
                                    <label class="switch" *ngIf="!activityTrackDI.commercialSett">
                                        <input type="checkbox" [checked]=activityTrackDI.commercialSett formControlName="commercialCheck"
                                            (click)="onCommSetSwitchBtnClick(activityTrackDI.complainRefNo)">
                                        <span class="slider round"></span>
                                    </label>
                                    <span *ngIf="activityTrackDI.commercialSett" class="custom-link">Details</span>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </form>
            </div>
            <!-- end of div for grid -->
        </div>
        <!-- end of div for grid -->
        <!-- new add for pagination -->
        <nav aria-label="Page navigation example" style="float:right">
            <ul *ngIf="pager.pages && pager.pages.length" class="pagination">
                <li class="page-item" [ngClass]="{disabled:pager.currentPage === 1}">
                    <a class="page-link" (click)="setPage(1)">First</a>
                </li>
                <li class="page-item" [ngClass]="{disabled:pager.currentPage === 1}">
                    <a class="page-link" (click)="setPage(pager.currentPage - 1)">Previous</a>
                </li>
                <li class="page-item" *ngFor="let page of pager.pages" [ngClass]="{active:pager.currentPage === page}">
                    <a class="page-link" (click)="setPage(page)">{{page}}</a>
                </li>
                <li class="page-item" [ngClass]="{disabled:pager.currentPage === pager.totalPages}">
                    <a class="page-link" (click)="setPage(pager.currentPage + 1)">Next</a>
                </li>
                <li class="page-item" [ngClass]="{disabled:pager.currentPage === pager.totalPages}">
                    <a class="page-link" (click)="setPage(pager.totalPages)">Last</a>
                </li>
            </ul>
        </nav>
        <!-- end of pagination -->
    </div>
    <!-- end of div for grid and pagination -->
</div>
<!--end of page container-->
<ispl-busy-spinner *ngIf="busySpinner"></ispl-busy-spinner>

<!-- modal for comm set  -->
<!-- add item modal -->
<div *ngIf="comSetFlag" class="overlay"></div>
<div *ngIf="comSetFlag" class="com-set-modal-style">
    <!-- header div -->
    <div class="modal-header">
        <div> Commercial Settlement </div>
        <div (click)="cancelModal()" style="cursor: pointer;">x</div>
    </div>
    <div class="modal-body">
        <div class="text-align-style">Enable Commercial Settlement?</div>
        <div class="text-align-style" style="margin-top: 20px;">
            <button type="submit" class="btn btn-primary cursor-pointer" (click)="onCommSetModalSubmitClick('Y')">Yes</button>
            <button type="submit" class="btn btn-secondary cursor-pointer" (click)="onCommSetModalSubmitClick('N')">No</button>
        </div>
    </div>
    <!-- end of body div -->
</div>
<!-- end of modal -->